# ZeroOne Backend Environment Variables
# Copy this file to .env and fill in your values

# ── Server Configuration ─────────────────────────────────────────────────────
PORT=3001
NODE_ENV=development

# ── Database (Neon PostgreSQL) ───────────────────────────────────────────────
# Get from https://neon.tech → Dashboard → Connection Details
DATABASE_URL=postgresql://user:password@ep-xxxxx.us-east-1.aws.neon.tech/dbname?sslmode=require

# ── Encryption ───────────────────────────────────────────────────────────────
# Random 32-char hex string for AES-256-GCM encryption
# Generate: openssl rand -hex 16
ENCRYPTION_KEY=your_32_char_hex_encryption_key_here

# ── Clerk Authentication ─────────────────────────────────────────────────────
# Get from https://dashboard.clerk.com → API Keys
CLERK_SECRET_KEY=sk_test_YOUR_SECRET_KEY

# Clerk Webhook Secret (for receiving user events)
# Create webhook endpoint: https://api.yourdomain.com/api/webhooks/clerk
# Then copy the Signing Secret here
CLERK_WEBHOOK_SECRET=whsec_YOUR_WEBHOOK_SECRET

# Optional: Clerk JWT configuration
# CLERK_JWT_AUDIENCE=
# CLERK_JWT_ISSUER=https://your-clerk-domain.clerk.accounts.dev

# ── Resend Email Service ─────────────────────────────────────────────────────
# Get from https://resend.com → API Keys
RESEND_API_KEY=re_your_resend_api_key
RESEND_FROM_EMAIL=ZeroOne <noreply@yourdomain.com>

# ── ModelArk (Quick Start) Configuration ────────────────────────────────────
# API key for ModelArk Quick Start - no user API key required
# Get from https://ark.bytepluses.com/
MODELARK_API_KEY=your_modelark_api_key

# ── CORS Origins ───────────────────────────────────────────────────────────────
# Comma-separated list of allowed frontend origins
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
# For production: CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com

# ── Frontend URL ─────────────────────────────────────────────────────────────
# Used for email links, Stripe checkout redirects, and redirects
# Must be the full URL of your frontend (not backend)
FRONTEND_URL=http://localhost:3000
# For production: FRONTEND_URL=https://yourdomain.com

# ── ZeroClaw Agent Configuration ─────────────────────────────────────────────
# Docker image for ZeroClaw agents
ZEROCLAW_IMAGE=ghcr.io/zeroclaw-labs/zeroclaw:latest

# Traefik domain for agent subdomains
TRAEFIK_DOMAIN=yourdomain.com

# ── Docker Configuration ─────────────────────────────────────────────────────
# Docker socket path (usually /var/run/docker.sock on Linux)
# DOCKER_SOCKET=/var/run/docker.sock

# ── Stripe Payments (Hybrid: Credit Cards + Crypto USDC) ─────────────────────
# 
# 1. Get your API keys from: https://dashboard.stripe.com/apikeys
# 2. For local development, install Stripe CLI: https://stripe.com/docs/stripe-cli
#
# LOCAL DEVELOPMENT WITH STRIPE CLI:
# ---------------------------------
# Terminal 1: Start your backend server
#   pnpm dev
#
# Terminal 2: Start Stripe webhook forwarding
#   stripe login
#   stripe listen --forward-to localhost:3001/api/payments/webhook
#
# Copy the webhook signing secret from the output (starts with whsec_)
# Example: "Ready! Your webhook signing secret is whsec_xxxxxxxxxx (/___.)"
#
# PRODUCTION:
# ----------
# Set webhook endpoint in Stripe Dashboard: https://dashboard.stripe.com/webhooks
# Endpoint URL: https://api.yourdomain.com/api/payments/webhook
# Select events: checkout.session.completed, invoice.payment_succeeded, etc.

STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Stripe Price IDs (create these in Stripe Dashboard: Products → Create Product)
# After creating products with recurring prices, copy the Price IDs here:
#
# Pricing (with ~17.5% yearly discount):
# FREE: $0
# PRO: $9/month or $89/year
# BUSINESS: $49/month or $490/year  
# ENTERPRISE: Custom pricing (contact sales)
#
# PRO Plan
STRIPE_PRICE_ID_PRO_MONTHLY=price_...
STRIPE_PRICE_ID_PRO_YEARLY=price_...

# BUSINESS Plan
STRIPE_PRICE_ID_BUSINESS_MONTHLY=price_...
STRIPE_PRICE_ID_BUSINESS_YEARLY=price_...

# ENTERPRISE Plan (optional - requires custom integration)
# STRIPE_PRICE_ID_ENTERPRISE_MONTHLY=price_...
# STRIPE_PRICE_ID_ENTERPRISE_YEARLY=price_...

# ── Optional: Stripe Webhook Endpoint URL (for reference) ────────────────────
# This is just for documentation, the actual endpoint is hardcoded in routes
# Local: http://localhost:3001/api/payments/webhook
# Production: https://api.yourdomain.com/api/payments/webhook

# ── Coinbase Commerce (Cryptocurrency Payments) ───────────────────────────────
# Get API key: https://commerce.coinbase.com/dashboard/settings
# Webhook endpoint: https://api.yourdomain.com/api/payments/webhook/coinbase
# Supports: BTC, ETH, USDC, SOL, LTC, BCH, DAI, and more

COINBASE_COMMERCE_API_KEY=your_coinbase_commerce_api_key
COINBASE_COMMERCE_WEBHOOK_SECRET=your_webhook_secret
